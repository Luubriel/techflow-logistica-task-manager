{% extends "base.html" %}

{% block content %}

<div>
    <a href="{% url 'tasks:add'%}">Adicionar</a>
    <table>
        {% if tasks_list %}
        <caption>Tarefas</caption>
        <tr>
            <th>ID</th>
            <th>Título</th>
            <th>Descrição</th>
            <th>Completa?</th>
            <th></th>
            <th></th>
        </tr>
        {% for task in tasks_list %}
        <tr>
            <td>{{ task.id }}</td>
            <td>{{ task.title }}</td>
            <td>{{ task.description }}</td>
            <td>{{ task.completed }}</td>
            <td>
                <a type="button" href="{% url 'tasks:update' task.id %}">Editar</a>
            </td>
            <td>
                <form method="post" action="{% url 'tasks:delete' task.id %}">
                {% csrf_token %}
                <button type="submit">Excluir</button>
                </form>
            </td>
        </tr>
        {% endfor %}
        {% else %}
        <p>Você não possui tarefas.</p>
        {% endif %}
    </table>
</div>

{% endblock %}